function playExperiment(e){e.target===smartiesCanvas&&(e.target.style.opacity=1,e.target.parentNode.style.backgroundImage="none",switchState(!0))}function stopExperiment(e){e.target===smartiesCanvas&&switchState(!1)}function setInitArrow(){var e=window.innerWidth/2,t=window.innerHeight/2;topArrow.childNodes[0].style.webkitTransform="translate3d(-"+e+"px, -"+t+"px, 60px)"}function getScrollPosition(){var e=window.innerWidth/2,t=window.innerHeight/2;window.scrollY<screen.height?(topArrow.style.opacity=0,topArrow.childNodes[0].style.webkitTransform="scale(1,1)",topArrow.childNodes[0].style.webkitTransform="translate3d(-"+e+"px, -"+t+"px, 60px)",topArrow.childNodes[0].addEventListener("webkitTransitionEnd",function(e){"translate3d(0px, 0px, 0px)"===topArrow.childNodes[0].style.webkitTransform||(topArrow.style.zIndex="-10")},!1)):(topArrow.style.opacity=.7,topArrow.style.zIndex="10",topArrow.childNodes[0].style.webkitTransform="scale(0.2,0.2)",topArrow.childNodes[0].style.webkitTransform="translate3d(0px, 0px, 0px)")}!function(e){function t(){r.fillRect.apply(r,i),r.clearRect.apply(r,i);for(var e=0;e<s.length;e++)r.fillStyle="hsl("+s[e].color+",100%,50%)",r.beginPath(),r.arc(s[e].x,s[e].y,s[e].r,0,l,!1),r.fill(),c.right=s[e].x+s[e].r>a[0],c.left=s[e].x-s[e].r<0,c.floor=s[e].y+s[e].r>a[1],c.ceiling=s[e].y-s[e].r<0,c.left||c.right?s[e].vx*=-1:null,c.floor||c.ceiling?s[e].vy*=-1:null,s[e].x+=s[e].vx,s[e].y+=s[e].vy;m&&p(t)}opt={count:32,min:.3,max:.8,maxVel:12,opacity:.5,filter:"difference"};var n,o=document.getElementById("smarties"),r=o.getContext("2d"),a=[o.width,o.height],i=[0,0].concat(a),l=2*Math.PI,c={};screen.width<1023?r.globalAlpha=opt.opacity:r.globalCompositeOperation=opt.filter;for(var s=[],d=0;d<opt.count;d++){n=Math.random(),n>opt.min?n:n=opt.min;var u=300*opt.max*n;s.push({x:~~(a[0]*n-u)||25,y:~~(a[1]*n-u)||25,r:~~u,color:~~(360*n),vx:~~(opt.maxVel*Math.random()),vy:~~(opt.maxVel*n)})}var m,p=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(callback,1e3/60)}}(),f=0;e.switchState=function(e){f?(m=e,f=0):(m=e,p(t),f=1)}}(window),!function(e,t){function n(e,t){var n=e.createElement("p"),o=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",o.insertBefore(n.lastChild,o.firstChild)}function o(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function r(e,t){var n=v.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),v.elements=n+" "+e,s(t)}function a(e){var t=y[e[w]];return t||(t={},g++,e[w]=g,y[g]=t),t}function i(e,n,o){if(n||(n=t),u)return n.createElement(e);o||(o=a(n));var r;return r=o.cache[e]?o.cache[e].cloneNode():h.test(e)?(o.cache[e]=o.createElem(e)).cloneNode():o.createElem(e),!r.canHaveChildren||f.test(e)||r.tagUrn?r:o.frag.appendChild(r)}function l(e,n){if(e||(e=t),u)return e.createDocumentFragment();n=n||a(e);for(var r=n.frag.cloneNode(),i=0,l=o(),c=l.length;c>i;i++)r.createElement(l[i]);return r}function c(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return v.shivMethods?i(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+o().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function s(e){e||(e=t);var o=a(e);return!v.shivCSS||d||o.hasCSS||(o.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||c(e,o),e}var d,u,m="3.7.3-pre",p=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,w="_html5shiv",g=0,y={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",d="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){d=!0,u=!0}}();var v={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:m,shivCSS:p.shivCSS!==!1,supportsUnknownElements:u,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:s,createElement:i,createDocumentFragment:l,addElements:r};e.html5=v,s(t),"object"==typeof module&&module.exports&&(module.exports=v)}("undefined"!=typeof window?window:this,document),function(){function e(){k.keyboardSupport&&m("keydown",r)}function t(){if(!N&&document.body){N=!0;var t=document.body,n=document.documentElement,o=window.innerHeight,r=t.scrollHeight;if(H=document.compatMode.indexOf("CSS")>=0?n:t,x=t,e(),top!=self)M=!0;else if(r>o&&(t.offsetHeight<=o||n.offsetHeight<=o)){var a=document.createElement("div");a.style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+H.scrollHeight+"px",document.body.appendChild(a);var i,l=function(){i||(i=setTimeout(function(){C||(a.style.height="0",a.style.height=H.scrollHeight+"px",i=null)},500))};setTimeout(l,10);var c={attributes:!0,childList:!0,characterData:!1};if(E=new W(l),E.observe(t,c),H.offsetHeight<=o){var s=document.createElement("div");s.style.clear="both",t.appendChild(s)}}k.fixedBackground||C||(t.style.backgroundAttachment="scroll",n.style.backgroundAttachment="scroll")}}function n(e,t,n){if(f(t,n),1!=k.accelerationMax){var o=Date.now(),r=o-q;if(r<k.accelerationDelta){var a=(1+50/r)/2;a>1&&(a=Math.min(a,k.accelerationMax),t*=a,n*=a)}q=Date.now()}if(z.push({x:t,y:n,lastX:0>t?.99:-.99,lastY:0>n?.99:-.99,start:Date.now()}),!I){var i=e===document.body,l=function(o){for(var r=Date.now(),a=0,c=0,s=0;s<z.length;s++){var d=z[s],u=r-d.start,m=u>=k.animationTime,p=m?1:u/k.animationTime;k.pulseAlgorithm&&(p=b(p));var f=d.x*p-d.lastX>>0,h=d.y*p-d.lastY>>0;a+=f,c+=h,d.lastX+=f,d.lastY+=h,m&&(z.splice(s,1),s--)}i?window.scrollBy(a,c):(a&&(e.scrollLeft+=a),c&&(e.scrollTop+=c)),t||n||(z=[]),z.length?j(l,e,1e3/k.frameRate+1):I=!1};j(l,e,0),I=!0}}function o(e){N||t();var o=e.target,r=c(o);if(!r||e.defaultPrevented||e.ctrlKey)return!0;if(p(x,"embed")||p(o,"embed")&&/\.pdf/i.test(o.src)||p(x,"object"))return!0;var a=-e.wheelDeltaX||e.deltaX||0,l=-e.wheelDeltaY||e.deltaY||0;return R&&(e.wheelDeltaX&&w(e.wheelDeltaX,120)&&(a=-120*(e.wheelDeltaX/Math.abs(e.wheelDeltaX))),e.wheelDeltaY&&w(e.wheelDeltaY,120)&&(l=-120*(e.wheelDeltaY/Math.abs(e.wheelDeltaY)))),a||l||(l=-e.wheelDelta||0),1===e.deltaMode&&(a*=40,l*=40),!k.touchpadSupport&&h(l)?!0:(Math.abs(a)>1.2&&(a*=k.stepSize/120),Math.abs(l)>1.2&&(l*=k.stepSize/120),n(r,a,l),e.preventDefault(),void i())}function r(e){var t=e.target,o=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey&&e.keyCode!==B.spacebar;document.contains(x)||(x=document.activeElement);var r=/^(textarea|select|embed|object)$/i,a=/^(button|submit|radio|checkbox|file|color|image)$/i;if(r.test(t.nodeName)||p(t,"input")&&!a.test(t.type)||p(x,"video")||y(e)||t.isContentEditable||e.defaultPrevented||o)return!0;if((p(t,"button")||p(t,"input")&&a.test(t.type))&&e.keyCode===B.spacebar)return!0;var l,s=0,d=0,u=c(x),m=u.clientHeight;switch(u==document.body&&(m=window.innerHeight),e.keyCode){case B.up:d=-k.arrowScroll;break;case B.down:d=k.arrowScroll;break;case B.spacebar:l=e.shiftKey?1:-1,d=-l*m*.9;break;case B.pageup:d=.9*-m;break;case B.pagedown:d=.9*m;break;case B.home:d=-u.scrollTop;break;case B.end:var f=u.scrollHeight-u.scrollTop-m;d=f>0?f+10:0;break;case B.left:s=-k.arrowScroll;break;case B.right:s=k.arrowScroll;break;default:return!0}n(u,s,d),e.preventDefault(),i()}function a(e){x=e.target}function i(){clearTimeout(S),S=setInterval(function(){P={}},1e3)}function l(e,t){for(var n=e.length;n--;)P[L(e[n])]=t;return t}function c(e){var t=[],n=document.body,o=H.scrollHeight;do{var r=P[L(e)];if(r)return l(t,r);if(t.push(e),o===e.scrollHeight){var a=d(H)&&d(n),i=a||u(H);if(M&&s(H)||!M&&i)return l(t,X())}else if(s(e)&&u(e))return l(t,e)}while(e=e.parentElement)}function s(e){return e.clientHeight+10<e.scrollHeight}function d(e){var t=getComputedStyle(e,"").getPropertyValue("overflow-y");return"hidden"!==t}function u(e){var t=getComputedStyle(e,"").getPropertyValue("overflow-y");return"scroll"===t||"auto"===t}function m(e,t){window.addEventListener(e,t,!1)}function p(e,t){return(e.nodeName||"").toLowerCase()===t.toLowerCase()}function f(e,t){e=e>0?1:-1,t=t>0?1:-1,(D.x!==e||D.y!==t)&&(D.x=e,D.y=t,z=[],q=0)}function h(e){return e?(F.length||(F=[e,e,e]),e=Math.abs(e),F.push(e),F.shift(),clearTimeout(T),T=setTimeout(function(){window.localStorage&&(localStorage.SS_deltaBuffer=F.join(","))},1e3),!g(120)&&!g(100)):void 0}function w(e,t){return Math.floor(e/t)==e/t}function g(e){return w(F[0],e)&&w(F[1],e)&&w(F[2],e)}function y(e){var t=e.target,n=!1;if(-1!=document.URL.indexOf("www.youtube.com/watch"))do if(n=t.classList&&t.classList.contains("html5-video-controls"))break;while(t=t.parentNode);return n}function v(e){var t,n,o;return e*=k.pulseScale,1>e?t=e-(1-Math.exp(-e)):(n=Math.exp(-1),e-=1,o=1-Math.exp(-e),t=n+o*(1-n)),t*k.pulseNormalize}function b(e){return e>=1?1:0>=e?0:(1==k.pulseNormalize&&(k.pulseNormalize/=v(1)),v(e))}var x,E,S,T,A={frameRate:150,animationTime:400,stepSize:400,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:!0,arrowScroll:50,touchpadSupport:!0,fixedBackground:!0,excluded:""},k=A,C=!1,M=!1,D={x:0,y:0},N=!1,H=document.documentElement,F=[],R=/^Mac/.test(navigator.platform),B={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},k=A,z=[],I=!1,q=Date.now(),L=function(){var e=0;return function(t){return t.uniqueID||(t.uniqueID=e++)}}(),P={};window.localStorage&&localStorage.SS_deltaBuffer&&(F=localStorage.SS_deltaBuffer.split(","));var Y,j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,t,n){window.setTimeout(e,n||1e3/60)}}(),W=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,X=function(){var e;return function(){if(!e){var t=document.createElement("div");t.style.cssText="height:10000px;width:1px;",document.body.appendChild(t);{var n=document.body.scrollTop;document.documentElement.scrollTop}window.scrollBy(0,1),e=document.body.scrollTop!=n?document.body:document.documentElement,window.scrollBy(0,-1),document.body.removeChild(t)}return e}}();"onwheel"in document.createElement("div")?Y="wheel":"onmousewheel"in document.createElement("div")&&(Y="mousewheel"),Y&&(m(Y,o),m("mousedown",a),m("load",t))}(),function(e,t){"use strict";function n(){c.map(function(t){l=e.requestAnimationFrame?requestAnimationFrame:e[t+"RequestAnimationFrame"]})}function o(e){if(!e)return 0;var t=e.offsetTop,n=e.offsetParent;return t+=o(n)}function r(e){return e.scrollTop||t.body.scrollTop||t.documentElement.scrollTop}function a(e,t,n){function o(r){null===c&&(c=r);var s=r-c,d=s/n,u=Math.sin(d*Math.PI/2);e.scrollTo(0,a+i*u),n>s?l(o):e.scrollTo(t.x,t.y)}var a=r(e),i=t.y-a,c=null;t.y!==a&&"function"==typeof e.scrollTo&&l(o)}function i(n){if("no-ss"!==n.target.className){var r=n.target,i=r.hash,l=null;r&&i&&(i=i.substring(1),l=t.getElementById(i),l&&a(e,{x:0,y:o(l)},1e3))}}var l,c=["moz","webkit","o"];n(),t.addEventListener("click",i,!1)}(window,document);var get="getElementById",getClass="getElementsByClassName",d=document,smartiesCanvas=d[get]("smarties"),topArrow=d[get]("top-arrow"),smartiesPlaceholder=d[get]("smarties-placeholder"),crosses=d[getClass]("cross");document.addEventListener("mouseover",playExperiment,!1),document.addEventListener("mouseout",stopExperiment,!1);var parentsHeight,parentsWidth,line,line1,line2;window.onload=function(){function e(e){if(e.focus(),"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if("undefined"!=typeof document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(e),o.collapse(!1),o.select()}}for(var t=0;t<crosses.length;t++)parentsHeight=parseInt(window.getComputedStyle(crosses[t].parentNode,null).getPropertyValue("height"),10)-33,parentsWidth=parseInt(window.getComputedStyle(crosses[t].parentNode,null).getPropertyValue("width"),10),line=crosses[t].getElementsByTagName("line"),line1=line[0],line2=line[1],line1.setAttribute("x2",parentsWidth),line1.setAttribute("y2",parentsHeight),line2.setAttribute("y1",parentsHeight),line2.setAttribute("x2",parentsWidth),crosses[t].setAttribute("height",parentsHeight),crosses[t].setAttribute("width",parentsWidth),crosses[t].setAttribute("viewBox",[0,0,parentsWidth,parentsHeight].join(",")),crosses[t].setAttribute("preserveAspectRatio","xMidYMin");e(document.getElementById("editable"))},setInitArrow(),setTimeout(function(){window.onscroll=function(e){getScrollPosition()}},1e3);