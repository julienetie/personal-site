function playExperiment(e){e.target===smartiesCanvas&&(e.target.style.opacity=1,e.target.parentNode.style.backgroundImage="none",switchState(!0))}function stopExperiment(e){e.target===smartiesCanvas&&switchState(!1)}function getScrollPosition(){var e=window.innerWidth/2,t=window.innerHeight/2;window.scrollY<screen.height?(topArrow.style.opacity=0,topArrow.childNodes[0].style.webkitTransform="scale(1,1)",topArrow.childNodes[0].style.webkitTransform="translate3d(-"+e+"px, -"+t+"px, 60px)",topArrow.childNodes[0].addEventListener("webkitTransitionEnd",function(e){"translate3d(0px, 0px, 0px)"===topArrow.childNodes[0].style.webkitTransform||(topArrow.style.zIndex="-10")},!1)):(topArrow.style.opacity=.7,topArrow.style.zIndex="10",topArrow.childNodes[0].style.webkitTransform="scale(0.2,0.2)",topArrow.childNodes[0].style.webkitTransform="translate3d(0px, 0px, 0px)")}!function(e){function t(){r.fillRect.apply(r,s),r.clearRect.apply(r,s);for(var e=0;e<c.length;e++)r.fillStyle="hsl("+c[e].color+",100%,50%)",r.beginPath(),r.arc(c[e].x,c[e].y,c[e].r,0,a,!1),r.fill(),l.right=c[e].x+c[e].r>i[0],l.left=c[e].x-c[e].r<0,l.floor=c[e].y+c[e].r>i[1],l.ceiling=c[e].y-c[e].r<0,l.left||l.right?c[e].vx*=-1:null,l.floor||l.ceiling?c[e].vy*=-1:null,c[e].x+=c[e].vx,c[e].y+=c[e].vy;m&&u(t)}opt={count:32,min:.3,max:.8,maxVel:12,opacity:.5,filter:"difference"};var n,o=document.getElementById("smarties"),r=o.getContext("2d"),i=[o.width,o.height],s=[0,0].concat(i),a=2*Math.PI,l={};screen.width<1023?r.globalAlpha=opt.opacity:r.globalCompositeOperation=opt.filter;for(var c=[],d=0;d<opt.count;d++){n=Math.random(),n>opt.min?n:n=opt.min;var p=300*opt.max*n;c.push({x:~~(i[0]*n-p)||25,y:~~(i[1]*n-p)||25,r:~~p,color:~~(360*n),vx:~~(opt.maxVel*Math.random()),vy:~~(opt.maxVel*n)})}var m,u=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(callback,1e3/60)}}(),w=0;e.switchState=function(e){w?(m=e,w=0):(m=e,u(t),w=1)}}(window),function(e,t){"use strict";function n(){l.map(function(t){a=e.requestAnimationFrame?requestAnimationFrame:e[t+"RequestAnimationFrame"]})}function o(e){if(!e)return 0;var t=e.offsetTop,n=e.offsetParent;return t+=o(n)}function r(e){return e.scrollTop||t.body.scrollTop||t.documentElement.scrollTop}function i(e,t,n){function o(r){null===l&&(l=r);var c=r-l,d=c/n,p=Math.sin(d*Math.PI/2);e.scrollTo(0,i+s*p),n>c?a(o):e.scrollTo(t.x,t.y)}var i=r(e),s=t.y-i,l=null;t.y!==i&&"function"==typeof e.scrollTo&&a(o)}function s(n){if("no-ss"!==n.target.className){var r=n.target,s=r.hash,a=null;r&&s&&(s=s.substring(1),a=t.getElementById(s),a&&i(e,{x:0,y:o(a)},c))}}var a,l=["moz","webkit","o"];n();var c=e.smoothScrollSpeed||1e3;t.addEventListener("click",s,!1)}(window,document);var get="getElementById",getClass="getElementsByClassName",d=document,smartiesCanvas=d[get]("smarties"),topArrow=d[get]("top-arrow"),smartiesPlaceholder=d[get]("smarties-placeholder"),crosses=d[getClass]("cross");document.addEventListener("mouseover",playExperiment,!1),document.addEventListener("mouseout",stopExperiment,!1);var parentsHeight,parentsWidth,line,line1,line2;window.onload=function(){function e(e){if(e.focus(),"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if("undefined"!=typeof document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(e),o.collapse(!1),o.select()}}for(var t=0;t<crosses.length;t++)parentsHeight=parseInt(window.getComputedStyle(crosses[t].parentNode,null).getPropertyValue("height"),10)-33,parentsWidth=parseInt(window.getComputedStyle(crosses[t].parentNode,null).getPropertyValue("width"),10),line=crosses[t].getElementsByTagName("line"),line1=line[0],line2=line[1],line1.setAttribute("x2",parentsWidth),line1.setAttribute("y2",parentsHeight),line2.setAttribute("y1",parentsHeight),line2.setAttribute("x2",parentsWidth),crosses[t].setAttribute("height",parentsHeight),crosses[t].setAttribute("width",parentsWidth),crosses[t].setAttribute("viewBox",[0,0,parentsWidth,parentsHeight].join(",")),crosses[t].setAttribute("preserveAspectRatio","xMidYMin");e(document.getElementById("editable"))},window.onscroll=function(e){getScrollPosition()};